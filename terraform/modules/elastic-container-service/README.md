Note this was all based on the examples at

http://blog.shippable.com/create-a-container-cluster-using-terraform-with-aws-part-1

and

http://blog.shippable.com/setup-a-container-cluster-on-aws-with-terraform-part-2-provision-a-cluster

The build pipeline was based on https://medium.com/build-acl/docker-deployments-using-terraform-d2bf36ec7bdf